import{j as e}from"./relume-CUjVMWgW.js";import{G as _}from"./GuestLayout-CLMNZJy5.js";import{a as j,W as k,Y as C}from"./vendor-CzJBlmwO.js";import{T as p,I as u}from"./TextInput-DkZCRtRm.js";import{I as h}from"./InputLabel-eDAHkoua.js";import{c as N}from"./createLucideIcon-g5LQwfDy.js";import{C as S}from"./check-9SzIVHNv.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=N("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=N("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),P=({data:s,setData:n,errors:i})=>{const[r,a]=j.useState(!1),[m,g]=j.useState({score:0,message:"",color:"bg-gray-200"}),x=l=>{let c=0,d="",t="bg-gray-200";switch(l.length>=8&&c++,l.match(/[A-Z]/)&&c++,l.match(/[0-9]/)&&c++,l.match(/[^A-Za-z0-9]/)&&c++,c){case 0:d="Very Weak",t="bg-red-500";break;case 1:d="Weak",t="bg-orange-500";break;case 2:d="Fair",t="bg-yellow-500";break;case 3:d="Good",t="bg-blue-500";break;case 4:d="Strong",t="bg-green-500";break}return{score:c/4*100,message:d,color:t}},b=l=>{const c=l.target.value;n("password",c),g(x(c))};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"name",value:"Name"}),e.jsx(p,{id:"name",name:"name",value:s.name,className:"mt-1 block w-full",autoComplete:"name",isFocused:!0,onChange:l=>n("name",l.target.value),required:!0}),e.jsx(u,{message:i.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"email",value:"Email"}),e.jsx(p,{id:"email",type:"email",name:"email",value:s.email,className:"mt-1 block w-full",autoComplete:"username",onChange:l=>n("email",l.target.value),required:!0}),e.jsx(u,{message:i.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"password",value:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{id:"password",type:r?"text":"password",name:"password",value:s.password,className:"mt-1 block w-full pr-10",autoComplete:"new-password",onChange:b,required:!0}),e.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute inset-y-0 right-0 mt-1 flex items-center pr-3",children:r?e.jsx(w,{className:"h-5 w-5 text-gray-500"}):e.jsx(y,{className:"h-5 w-5 text-gray-500"})})]}),s.password&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${m.color}`,style:{width:`${m.score}%`}})}),e.jsx("p",{className:`mt-1 text-sm ${m.color.replace("bg-","text-")}`,children:m.message})]}),e.jsx(u,{message:i.password,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"password_confirmation",value:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{id:"password_confirmation",type:r?"text":"password",name:"password_confirmation",value:s.password_confirmation,className:"mt-1 block w-full pr-10",autoComplete:"new-password",onChange:l=>n("password_confirmation",l.target.value),required:!0}),e.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute inset-y-0 right-0 mt-1 flex items-center pr-3",children:r?e.jsx(w,{className:"h-5 w-5 text-gray-500"}):e.jsx(y,{className:"h-5 w-5 text-gray-500"})})]}),e.jsx(u,{message:i.password_confirmation,className:"mt-2"})]})]})},E=({data:s,setData:n,errors:i})=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"current_average_score",value:"Current Average Score"}),e.jsx(p,{id:"current_average_score",type:"number",step:"0.1",className:"mt-1 block w-full",value:s.current_average_score,onChange:r=>n("current_average_score",parseFloat(r.target.value)),required:!0}),e.jsx(u,{message:i.current_average_score,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"verified_handicap",value:"Verified Handicap (if available)"}),e.jsx(p,{id:"verified_handicap",type:"number",step:"0.1",min:"-10",max:"50",className:"mt-1 block w-full",value:s.verified_handicap,onChange:r=>n("verified_handicap",r.target.value?parseFloat(r.target.value):null)}),e.jsx("div",{className:"mt-1 text-sm text-gray-500",children:"Enter a value between -10 and 50"}),e.jsx(u,{message:i.verified_handicap,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"special_notes",value:"Additional Notes"}),e.jsx("textarea",{id:"special_notes",className:"mt-1 block w-full border-gray-300 focus:border-chaugreen focus:ring-chaugreen rounded-md shadow-sm",value:s.special_notes,onChange:r=>n("special_notes",r.target.value),rows:"4"}),e.jsx(u,{message:i.special_notes,className:"mt-2"})]})]}),R=({selectedPlan:s,setSelectedPlan:n,setData:i})=>{const r=[{name:"Individual Membership",description:"Perfect for the solo golfer looking to improve their game",price:79,stripe_price_id:"price_1QjlvMKtoGj2ru2NpvnfCG1n",features:["Get a golf gift or a polo golf shirt when sign up","Secure your spot in tournaments","Participate in members-only events","Enjoy reduced rates on tournament fees","Connect with fellow golf enthusiasts","Enjoy member-only discounts"],isPopular:!1},{name:"Business Membership",description:"For 8 employees",price:550,stripe_price_id:"price_1QjlvqKtoGj2ru2NGb7l22AA",features:["Get a golf gift or a polo golf shirt for each member","Secure spots in tournaments","Participate in members-only events","Enjoy reduced rates on tournament fees","Connect with fellow golf enthusiasts","Enjoy member-only discounts"],isPopular:!0}];return e.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:r.map((a,m)=>e.jsxs("div",{className:`flex flex-col rounded-lg p-8 cursor-pointer transition-all duration-300 ${(s==null?void 0:s.stripe_price_id)===a.stripe_price_id?"bg-chaugreen/10 border-2 border-chaugreen":"bg-gray-50 border-2 border-transparent hover:border-chaugreen/50"}`,onClick:()=>{n(a),i("plan_id",a.stripe_price_id),console.log("Selected plan:",a.name,"with ID:",a.stripe_price_id)},children:[a.isPopular&&e.jsx("div",{className:"mb-8",children:e.jsx("span",{className:"rounded-full bg-chaugreen px-3 py-1 text-sm font-semibold text-white",children:"Most Popular"})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"mb-2 text-xl font-bold text-black",children:a.name}),e.jsx("p",{className:"text-black/70",children:a.description})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("span",{className:"text-5xl font-bold text-black",children:["$",a.price]}),e.jsx("span",{className:"text-black/70",children:"/year"})]}),e.jsx("div",{className:"mb-8 space-y-4",children:a.features.map((g,x)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"h-5 w-5 text-chaugreen"}),e.jsx("span",{className:"text-black/70",children:g})]},x))})]},m))})};function F(){const[s,n]=j.useState(1),[i,r]=j.useState(null),{data:a,setData:m,post:g,processing:x,errors:b}=k({name:"",email:"",password:"",password_confirmation:"",current_average_score:"",verified_handicap:"",special_notes:"",plan_id:""}),l=()=>{if(s===1){if(!a.name||!a.email||!a.password||!a.password_confirmation)return}else if(s===2){if(!a.current_average_score)return}else if(s===3&&!i){alert("Please select a membership plan to continue");return}n(t=>Math.min(t+1,3))},c=()=>{n(t=>Math.max(t-1,1))},d=t=>{if(t.preventDefault(),!i){alert("Please select a membership plan to continue");return}if(!a.plan_id){alert("Please select a membership plan to continue");return}console.log("Starting registration with data:",a),g("/register-with-plan",a,{preserveScroll:!0,onSuccess:o=>{var v;console.log("Registration success response:",o);const f=(o==null?void 0:o.checkout_url)||((v=o==null?void 0:o.props)==null?void 0:v.checkout_url);f?(console.log("Redirecting to Stripe:",f),window.location.assign(f)):(console.error("No Stripe URL in response:",o),alert("Registration successful but no Stripe URL received. Please contact support."))},onError:o=>{if(console.error("Registration error details:",o),o.error)alert("Registration error: "+o.error);else{const f=Object.values(o).join(`
`);alert(`Registration failed:
`+f)}},onFinish:()=>{console.log("Registration request finished")}})};return e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex justify-between items-center",children:[1,2,3].map(t=>e.jsxs("div",{className:`flex items-center ${t<3?"flex-1":""}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t<=s?"bg-chaugreen text-white":"bg-gray-200"}`,children:t}),t<3&&e.jsx("div",{className:`flex-1 h-1 mx-4 ${t<s?"bg-chaugreen":"bg-gray-200"}`})]},t))}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{className:"text-sm",children:"Account Details"}),e.jsx("span",{className:"text-sm",children:"Golf Profile"}),e.jsx("span",{className:"text-sm",children:"Select Plan"})]})]}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s===1&&e.jsx(P,{data:a,setData:m,errors:b}),s===2&&e.jsx(E,{data:a,setData:m,errors:b}),s===3&&e.jsx(R,{selectedPlan:i,setSelectedPlan:r,setData:m})]}),e.jsxs("div",{className:"flex justify-between",children:[s>1&&e.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Back"}),s<3?e.jsx("button",{type:"button",onClick:l,className:"ml-auto px-4 py-2 text-sm font-medium text-white bg-chaugreen rounded-md hover:bg-chaugreen/90",children:"Next"}):e.jsx("button",{type:"submit",disabled:x||!i,className:"ml-auto px-4 py-2 text-sm font-medium text-white bg-chaugreen rounded-md hover:bg-chaugreen/90 disabled:opacity-50",children:x?"Processing...":"Complete Registration"})]})]})]})}function B(){return e.jsxs(_,{children:[e.jsx(C,{title:"Register"}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h2",{className:"font-headers text-2xl font-bold text-chaugreen",children:"Create Account"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Join the ChauChau Golf community"})]}),e.jsx(F,{})]})}export{B as default};
